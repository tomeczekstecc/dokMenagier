{"version":3,"sources":["context/doc/docContext.js","context/doc/docReducer.js","context/types.js","context/doc/DocState.js","components/layout/partials/Progress.js","components/FileUpload.js","components/layout/partials/TopHeader.js","components/layout/partials/CardAntPreview.js","components/pages/AddDoc.js","components/pages/EditDoc.js","components/Cards/CardAnt.js","components/layout/partials/FloatingButton.js","components/Cards/AllCards.js","components/pages/Home.js","App.js","index.js"],"names":["DocContext","createContext","state","action","type","docs","payload","curDoc","filter","doc","_id","files","transferDone","allReady","DocState","props","useReducer","docReducer","dispatch","Provider","value","getDocs","a","async","axios","get","res","data","console","log","setCurDoc","id","setTransferDone","isDone","setAllReady","isAllReady","children","Progress","percentage","className","role","style","width","main","transform","input","FileUpload","isSubmitting","setIsSubmitting","pdfFileName","docContext","useContext","useState","file","setFile","filename","setFilename","uploadProcentage","setUploadProcentage","formData","FormData","append","post","headers","pdfName","onUploadProgress","ProgressEvent","parseInt","Math","round","loaded","total","setTimeout","handleOnSubmit","onChange","e","target","name","lang","htmlFor","slice","display","justifyContent","alignItems","alignContent","background","textAlign","padding","fontSize","marginRight","fontWeight","color","TopHeader","homeDisable","allDocsDisable","title","textWhite","icon","textLight","to","Meta","Card","margin","maxWidth","minHeight","overflow","boxShadow","zIndex","img","borderBottom","CardAntPreview","body","displayBadge","premiereTag","iconType","position","count","backgroundColor","href","cover","alt","src","actions","key","shortTitle","toUpperCase","description","pagesCount","Option","Select","height","marginLeft","preview","left","top","WrappedAddNewDocForm","Form","create","enqueueSnackbar","useSnackbar","useEffect","setBody","publishDate","ver","prevVer","archived","pending","setPending","getFieldDecorator","form","handleChange","split","length","labelCol","xs","span","sm","wrapperCol","onSubmit","preventDefault","config","then","result","msg","variant","history","push","message","marginTop","Item","label","hasFeedback","rules","min","max","required","whitespace","offset","loading","disabled","htmlType","WrappedEditDocForm","convPremiereTag","convArchived","match","params","put","initialValue","CardAnt","handleOnClickDelete","handleOnClickChangeSort","onClick","FloatingButton","bootstrapClass","scale","text","linkTo","p_marginTop","bottom","right","borderRadius","class","defaultProps","flexWrap","h3","AllCards","setLoading","delete","error","direction","undefined","item","map","borderTop","flexDirectiom","Home","require","App","maxSnack","autoHideDuration","process","ALERT_WAIT_TIME","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a1535f4b.chunk.js","sourcesContent":["import { createContext } from 'react';\r\nconst DocContext = createContext()\r\nexport default DocContext\r\n\r\n","import {\r\n  GET_DOCS,\r\n  SET_COVER,\r\n  SET_CURRENT_DOC,\r\n  SET_TRANSFER_DONE,\r\n  SET_ALL_READY\r\n} from '../types';\r\n\r\nexport default (state, action) => {\r\n  switch (action.type) {\r\n    case GET_DOCS:\r\n      return {\r\n        ...state,\r\n        docs: action.payload,\r\n      };\r\n    case SET_CURRENT_DOC:\r\n      return {\r\n        ...state,\r\n        curDoc: state.docs.filter((doc) => doc._id === action.payload),\r\n      };\r\n\r\n    case SET_COVER:\r\n      return {\r\n        ...state,\r\n        files: action.payload[0],\r\n      };\r\n\r\n    case SET_TRANSFER_DONE:\r\n      return {\r\n        ...state,\r\n        transferDone: action.payload,\r\n      };\r\n    case SET_ALL_READY:\r\n      return {\r\n        ...state,\r\n        allReady: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const GET_DOCS = 'GET_DOCS'\r\nexport const SET_COVER = 'SET_COVER'\r\nexport const SET_CURRENT_DOC = 'SET_CURRENT_DOC';\r\nexport const SET_TRANSFER_DONE = 'SET_TRANSFER_DONE';\r\nexport const SET_ALL_READY = 'SET_ALL_READY';\r\n","import React, { useReducer } from 'react';\r\nimport DocContext from './docContext';\r\nimport docReducer from './docReducer';\r\nimport {\r\n  GET_DOCS,\r\n  SET_CURRENT_DOC,\r\n  SET_TRANSFER_DONE,\r\n  SET_ALL_READY,\r\n} from '../types';\r\nimport axios from 'axios';\r\n\r\nconst DocState = (props) => {\r\n  const initialState = {\r\n    docs: null,\r\n    files: [],\r\n    curDoc: null,\r\n    transferDone: false,\r\n    allReady: false\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(docReducer, initialState);\r\n\r\n  const getDocs = async () => {\r\n    try {\r\n      const res = await axios.get('/api/docs');\r\n      dispatch({\r\n        type: GET_DOCS,\r\n        payload: res.data.data,\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const setCurDoc = (id) => {\r\n    dispatch({\r\n      type: SET_CURRENT_DOC,\r\n      payload: id,\r\n    });\r\n  };\r\n  const setTransferDone = (isDone) => {\r\n    dispatch({\r\n      type: SET_TRANSFER_DONE,\r\n      payload: isDone,\r\n    });\r\n  };\r\n  const setAllReady = (isAllReady) => {\r\n    dispatch({\r\n      type: SET_ALL_READY,\r\n      payload: isAllReady,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <DocContext.Provider\r\n      value={{\r\n        docs: state.docs,\r\n        getDocs,\r\n        setCurDoc,\r\n        setTransferDone,\r\n        setAllReady,\r\n        allReady: state.allReady,\r\n        transferDone: state.transferDone,\r\n        files: state.files,\r\n        curDoc: state.curDoc,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </DocContext.Provider>\r\n  );\r\n};\r\n\r\nexport default DocState;\r\n","import React from 'react';\r\n\r\n\r\nconst Progress = ({ percentage }) => {\r\n  return (\r\n    <div className='progress'>\r\n      <div\r\n        className='progress-bar progress-bar-striped bg-success'\r\n        role='progressbar'\r\n        style={{ width: `${percentage}%` }}\r\n      >{percentage}%</div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default Progress;\r\n","import React, { Fragment, useState, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport Progress from '../components/layout/partials/Progress';\r\nimport DocContext from '../context/doc/docContext';\r\n\r\nconst FileUpload = ({ isSubmitting, setIsSubmitting, pdfFileName }) => {\r\n  const docContext = useContext(DocContext);\r\n  const { transferDone, setTransferDone } = docContext;\r\n  const [file, setFile] = useState('');\r\n  const [filename, setFilename] = useState('Kliknij, aby dodać plik ');\r\n  // eslint-disable-next-line\r\n  const [uploadProcentage, setUploadProcentage] = useState(0);\r\n\r\n  const handleOnChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n    setFilename(e.target.files[0].name);\r\n    setTransferDone(true);\r\n  };\r\n\r\n  const handleOnSubmit = async () => {\r\n    // e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    try {\r\n      const res = await axios.post('/api/upload', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n          pdfName: `${pdfFileName}`,\r\n        },\r\n        onUploadProgress: (ProgressEvent) => {\r\n          if (file) {\r\n                    setUploadProcentage(\r\n              parseInt(\r\n                Math.round((ProgressEvent.loaded * 100) / ProgressEvent.total)\r\n              )\r\n            );\r\n            setTimeout(() => setUploadProcentage(0), 3000);\r\n          }\r\n        },\r\n      });\r\n\r\n    } catch (err) {\r\n\r\n      console.log(err);\r\n    }\r\n    setIsSubmitting(false);\r\n\r\n  };\r\n  isSubmitting && handleOnSubmit();\r\n\r\n  return (\r\n    <Fragment>\r\n      <div style={style.main}>\r\n        <div className='custom-file'>\r\n          <input\r\n            type='file'\r\n            className='custom-file-input'\r\n            id='customFile'\r\n            onChange={handleOnChange}\r\n            lang='pl'\r\n          />\r\n          <label\r\n            style={style.input}\r\n            className='custom-file-label'\r\n            name='Wybierz plik'\r\n            htmlFor='customFile'\r\n          >\r\n            {filename.slice(0, 60) + '...'}\r\n          </label>\r\n        </div>\r\n        <Progress percentage={uploadProcentage} />\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nconst style = {\r\n  main: {\r\n    width: '100%',\r\n    transform: 'translateY(-40%)',\r\n    // overflow: 'hidden',\r\n    // marginLeft: '25vw',\r\n  },\r\n  input: {\r\n    width: '100%',\r\n    // height: '2.7rem',\r\n    // overflow: 'hidden',\r\n  },\r\n};\r\n\r\nexport default FileUpload;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst TopHeader = (props) => {\r\n  let homeDisable, allDocsDisable, addDocDisable, EditDocDisable;\r\n\r\n  if (props.title === 'Zarządzaj instrukcjami') {\r\n    allDocsDisable = 'none';\r\n  } else if (props.title === 'Strona startowa') {\r\n    homeDisable = 'none';\r\n  }\r\n  return (\r\n    <div>\r\n      <header>\r\n        <div style={style}>\r\n          <div style={style.textWhite}>\r\n            <i className={props.icon}></i> {props.title}\r\n          </div>\r\n\r\n          <div style={{ display: `${allDocsDisable}` }}>\r\n            <Link style={style.textLight} to='/alldocs'>\r\n              <i className='fas fa-cog'></i> Zarządzaj\r\n            </Link>\r\n          </div>\r\n\r\n          <div style={{ display: `${homeDisable}` }}>\r\n            {' '}\r\n            <Link style={style.textLight} to='/'>\r\n              <i className='fas fa-home'></i> Start\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </header>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst style = {\r\n  display: 'flex',\r\n  justifyContent: 'space-around',\r\n  alignItems: 'center',\r\n  alignContent: 'center',\r\n  background: '#0275d8',\r\n  textAlign: 'center',\r\n  padding: '20px',\r\n  display: 'flex',\r\n\r\n  textWhite: {\r\n    fontSize: '2.2rem',\r\n    marginRight: '3rem',\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  textLight: {\r\n    fontSize: '1.4rem',\r\n    color: 'white',\r\n  },\r\n};\r\n\r\nexport default TopHeader;\r\n","import React, { useContext } from 'react';\r\nimport { Card, Icon, Badge } from 'antd';\r\nimport {Link} from 'react-router-dom'\r\nconst { Meta } = Card;\r\n\r\nconst CardAntPreview = ({ body }) => {\r\n\r\n\r\n\r\n  let displayBadge = 'none';\r\n  if (!body.premiereTag) {\r\n    displayBadge = 'none';\r\n  } else {\r\n    displayBadge = 'block';\r\n  }\r\n  let iconType = 'none';\r\n  if (body.type === 'pdf') {\r\n    iconType = 'far fa-file-pdf animated flash';\r\n  } else if (body.type === 'film') {\r\n    iconType = 'far fa-file-video animated flash';\r\n  }\r\n\r\n  return (\r\n    <div style={{ zIndex: -2 }}>\r\n      <div>\r\n        <i\r\n          className={iconType}\r\n          style={{\r\n\r\n            transform: 'translate(235px,210px) scale(1.1)',\r\n            position:'fixed',\r\n            zIndex: 10,\r\n            width: '20px',\r\n            display: 'block',\r\n            color: 'rgba(0,0,0,0.4)',\r\n            fontSize: '1.8em',\r\n            zIndex: 1,\r\n           }}\r\n        ></i>\r\n      </div>\r\n      <Badge\r\n        count='NOWOŚĆ'\r\n        className='animated flash'\r\n        style={{\r\n          backgroundColor: '#db4d4d',\r\n          transform: 'translate(100px,40px) scale(1.1)',\r\n          zIndex: 10,\r\n          display: `${displayBadge}`,\r\n        }}\r\n      >\r\n        <a href='#' className='head-example' />\r\n      </Badge>\r\n      <Card\r\n        style={style.main}\r\n        cover={\r\n          <img\r\n            style={style.img}\r\n            alt='example'\r\n            // src='./spinner.gif'\r\n            // src={`1\r\n            //   loading\r\n            //     ? spinner\r\n            //     : 'http://bestcodes.pl/lsi/app_files/img/rwd.jpg'\r\n            // }\r\n            src='http://bestcodes.pl/lsi/app_files/img/rwd.jpg'\r\n            // src='https://gw.alipayobjects.com/zos/rmsportal/JiqGstEfoWAOHiTxclqi.png'\r\n          />\r\n        }\r\n        actions={[\r\n          // <Icon type='download' key='download' />,\r\n          <Icon type='arrow-up' key='arrow-up' />,\r\n          <Icon type='arrow-down' key='arrow-down' />,\r\n          <Link to='!#'>\r\n            <Icon type='edit' key='edit' />\r\n          </Link>,\r\n\r\n          <Icon type='delete' key='delete' />,\r\n        ]}\r\n      >\r\n        <Meta\r\n          // avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\r\n          title={body.shortTitle.toUpperCase() || ''}\r\n          description={\r\n            <p className='animated flash'>\r\n              Typ: {body.type}, Dla: {body.target}, Stron: {body.pagesCount}\r\n            </p>\r\n          }\r\n        />\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst style = {\r\n  main: {\r\n    margin: '15px',\r\n    maxWidth: 250,\r\n    minHeight: 312,\r\n    overflow: 'hidden',\r\n    boxShadow: '1px 1px 10px -4px rgba(0,0,0,0.75)',\r\n    zIndex: -1,\r\n  },\r\n  img: {\r\n    width: '100%',\r\n\r\n    borderBottom: '2px solid rgba(192, 192, 192,.3)',\r\n  },\r\n};\r\n\r\nexport default CardAntPreview;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\n// eslint-disable-next-line\r\nimport axios from 'axios';\r\nimport { Form, Input, Tooltip, Icon, Select, Button } from 'antd';\r\nimport { useSnackbar } from 'notistack';\r\nimport DocContext from '../../context/doc/docContext';\r\nimport FileUpload from '../FileUpload';\r\nimport TopHeader from '../layout/partials/TopHeader';\r\nimport CardAntPreview from '../layout/partials/CardAntPreview';\r\n\r\nconst { Option } = Select;\r\n\r\nconst AddDoc = (props) => {\r\n  const docContext = useContext(DocContext);\r\n  const { transferDone, setTransferDone, setAllReady, allReady } = docContext;\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  useEffect(() => {\r\n    setBody({\r\n      title: '',\r\n      target: '',\r\n      type: '',\r\n      shortTitle: 'TEST',\r\n      publishDate: '',\r\n      ver: '',\r\n      prevVer: '',\r\n      pagesCount: '',\r\n      premiereTag: '',\r\n      archived: '',\r\n    });\r\n  }, []);\r\n\r\n  const [body, setBody] = useState({\r\n    title: '',\r\n    target: '',\r\n    type: '',\r\n    shortTitle: 'TEST',\r\n    publishDate: '',\r\n    ver: '',\r\n    prevVer: '',\r\n    pagesCount: '',\r\n    premiereTag: '',\r\n    archived: '',\r\n  });\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [allSet, setAllSet] = useState(false);\r\n  const [pending, setPending] = useState(false);\r\n\r\n  const { getFieldDecorator } = props.form;\r\n\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n  };\r\n  const tailFormItemLayout = {\r\n    wrapperCol: {\r\n      xs: {\r\n        span: 24,\r\n        offset: 0,\r\n      },\r\n      sm: {\r\n        span: 16,\r\n        offset: 8,\r\n      },\r\n    },\r\n  };\r\n\r\n  const handleChange = async (e) => {\r\n    if (e === 'pdf' || e === 'film') {\r\n      body.type = e;\r\n    } else if (e === 'ben' || e === 'oper') {\r\n      body.target = e;\r\n    } else if (e === 'premiere') {\r\n      body.premiereTag = true;\r\n    } else if (e === 'notpremiere') {\r\n      body.premiereTag = false;\r\n    } else if (e === 'archived') {\r\n      body.archived = false;\r\n    } else if (e === 'notarchived') {\r\n      body.archived = true;\r\n    } else {\r\n      body[e.target.id.split('register_')[1]] = e.target.value;\r\n    }\r\n    body.pdfFileName = `${\r\n      '[' + body.ver + ']' + '_' + body.shortTitle + '_' + body.target\r\n    }.pdf`;\r\n\r\n    if (\r\n      body.title !== '' &&\r\n      body.title.length > 2 &&\r\n      body.title.length < 101 &&\r\n      body.target !== '' &&\r\n      body.type !== '' &&\r\n      body.shortTitle !== '' &&\r\n      body.shortTitle.length > 2 &&\r\n      body.publishDate !== '' &&\r\n      body.publishDate.length > 5 &&\r\n      body.publishDate.length < 10 &&\r\n      body.ver !== '' &&\r\n      body.prevVer !== '' &&\r\n      body.pagesCount !== '' &&\r\n      body.premiereTag !== '' &&\r\n      body.archived !== ''\r\n    ) {\r\n      setAllReady(true);\r\n    } else {\r\n      setAllReady(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      };\r\n      await axios.post('/api/docs', body, config).then((res) => {\r\n        if (res.data.result === 'success') {\r\n          setTimeout(() => {\r\n            enqueueSnackbar(`${res.data.msg}`, {\r\n              variant: `${res.data.result}`,\r\n            });\r\n            props.history.push('/alldocs');\r\n          }, 4000);\r\n        } else {\r\n          enqueueSnackbar(`${res.data.msg}`, {\r\n            variant: `${res.data.result}`,\r\n          });\r\n        }\r\n      });\r\n      setTimeout(() => {\r\n        setPending(false);\r\n      }, 4000);\r\n    } catch (error) {\r\n      enqueueSnackbar(`${error.message}`, {\r\n        variant: `error`,\r\n      });\r\n      console.log(error.message);\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setAllReady(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <TopHeader title='Dodawanie dokumentu' icon='fas fa-file-import' />\r\n\r\n      <div style={style.preview}>\r\n        <CardAntPreview body={body} />\r\n      </div>\r\n      <div style={style}>\r\n        <Form\r\n          {...formItemLayout}\r\n          onSubmit={handleSubmit}\r\n          style={{ width: 1100, marginTop: 50 }}\r\n        >\r\n          <Form.Item label='Tytuł' onChange={handleChange} hasFeedback>\r\n            {getFieldDecorator('title', {\r\n              rules: [\r\n                {\r\n                  min: 3,\r\n                  message: 'Tytuł musi składać się z co najmniej 3 znaków',\r\n                },\r\n                {\r\n                  max: 100,\r\n                  message: 'Tytuł może składać się z co najwyżej 100 znaków',\r\n                },\r\n                {\r\n                  required: true,\r\n                  message: 'Musisz podać tytuł',\r\n                },\r\n              ],\r\n            })(<Input />)}\r\n          </Form.Item>\r\n\r\n          <Form.Item label='Typ instrukcji' hasFeedback>\r\n            {getFieldDecorator('type', {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: 'Musisz wybrać wartosć',\r\n                },\r\n              ],\r\n            })(\r\n              <Select onChange={handleChange} style={{ width: 175 }}>\r\n                <Option value='pdf'>PDF</Option>\r\n                <Option value='film'>Film</Option>\r\n              </Select>\r\n            )}\r\n          </Form.Item>\r\n\r\n          <Form.Item label='Dla kogo' hasFeedback>\r\n            {getFieldDecorator('target', {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: 'Musisz wybrać wartosć',\r\n                },\r\n              ],\r\n            })(\r\n              <Select onChange={handleChange} style={{ width: 175 }}>\r\n                <Option value='ben'>Beneficjent</Option>\r\n                <Option value='oper'>Operator</Option>\r\n              </Select>\r\n            )}\r\n          </Form.Item>\r\n\r\n          <Form.Item label='Krótki tytuł' onChange={handleChange} hasFeedback>\r\n            {getFieldDecorator('shortTitle', {\r\n              rules: [\r\n                {\r\n                  min: 3,\r\n                  message:\r\n                    'Krótki tytuł musi składać się z co najmniej 3 znaków',\r\n                },\r\n                {\r\n                  required: true,\r\n                  message: 'Musisz podać krótki tytuł',\r\n                },\r\n              ],\r\n            })(<Input />)}\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            onChange={handleChange}\r\n            hasFeedback\r\n            label={\r\n              <span>\r\n                Data publikacji&nbsp;\r\n                <Tooltip title='Data publikacji powinna mieć format: IV.2000'>\r\n                  <Icon type='question-circle-o' />\r\n                </Tooltip>\r\n              </span>\r\n            }\r\n          >\r\n            {getFieldDecorator('publishDate', {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: 'Podaj datę publikacji',\r\n                  whitespace: true,\r\n                },\r\n                {\r\n                  min: 6,\r\n                  message:\r\n                    'Data publikacji powinna składać się z co najmniiej 6 znaków (np.\"I.2020\")',\r\n                },\r\n                {\r\n                  max: 9,\r\n                  message:\r\n                    'Data publikacji powinna składać się najwyżej z 8 znaków (np.\"XII.2020\")',\r\n                },\r\n              ],\r\n            })(<Input />)}\r\n          </Form.Item>\r\n\r\n          <Form.Item label='Wersja' onChange={handleChange} hasFeedback>\r\n            {getFieldDecorator('ver', {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: 'Podaj numer wersji',\r\n                  whitespace: true,\r\n                },\r\n              ],\r\n            })(<Input />)}\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            onChange={handleChange}\r\n            label='Poprzednia wersja'\r\n            hasFeedback\r\n          >\r\n            {getFieldDecorator('prevVer', {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: 'Podaj numer wersji',\r\n                  whitespace: true,\r\n                },\r\n              ],\r\n            })(<Input />)}\r\n          </Form.Item>\r\n\r\n          <Form.Item onChange={handleChange} label='Liczba stron' hasFeedback>\r\n            {getFieldDecorator('pagesCount', {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: 'Podaj liczbę stron',\r\n                  whitespace: true,\r\n                },\r\n              ],\r\n            })(<Input type='number' />)}\r\n          </Form.Item>\r\n\r\n          <Form.Item label='Oznacz jako premierowe' hasFeedback>\r\n            {getFieldDecorator('premiereTag', {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: 'Wybierz wartość',\r\n                },\r\n              ],\r\n            })(\r\n              <Select onChange={handleChange} style={{ width: 175 }}>\r\n                <Option value='notpremiere'>Nie</Option>\r\n                <Option value='premiere'>Tak</Option>\r\n              </Select>\r\n            )}\r\n          </Form.Item>\r\n\r\n          <Form.Item label='Oznacz jako archiwalne' hasFeedback>\r\n            {getFieldDecorator(\r\n              'archived',\r\n\r\n              {\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: 'Wybierz wartość',\r\n                  },\r\n                ],\r\n              }\r\n            )(\r\n              <Select onChange={handleChange} style={{ width: 175 }}>\r\n                <Option value='archived'>Nie</Option>\r\n                <Option value='notarchived'>Tak</Option>\r\n              </Select>\r\n            )}\r\n          </Form.Item>\r\n\r\n          <Form.Item onChange={handleChange} label='Dodaj plik' hasFeedback>\r\n            {getFieldDecorator('file', {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: 'Dodaj plik',\r\n                },\r\n              ],\r\n            })(\r\n              <FileUpload\r\n                isSubmitting={isSubmitting}\r\n                setIsSubmitting={setIsSubmitting}\r\n                pdfFileName={body.pdfFileName}\r\n              />\r\n            )}\r\n          </Form.Item>\r\n\r\n          <Form.Item {...tailFormItemLayout}>\r\n            <Button\r\n              loading={pending}\r\n              disabled={!allReady}\r\n              type='primary'\r\n              htmlType='submit'\r\n            >\r\n              Utwórz\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst style = {\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  height: '100%',\r\n  width: '80%',\r\n  marginLeft:'10%',\r\n  preview: {\r\nposition: 'fixed',\r\nleft:'150px',\r\ntop:'175px',\r\ntransform: 'scale(1.5)'\r\n  },\r\n};\r\n\r\nconst WrappedAddNewDocForm = Form.create({ name: 'register' })(AddDoc);\r\nexport default WrappedAddNewDocForm;\r\n","import React, { useContext, useState } from 'react';\r\nimport DocContext from '../../context/doc/docContext';\r\nimport TopHeader from '../layout/partials/TopHeader';\r\nimport axios from 'axios';\r\nimport FileUpload from '../FileUpload';\r\nimport { useSnackbar } from 'notistack';\r\nimport { Form, Input, Tooltip, Icon, Select, Button } from 'antd';\r\n\r\nconst { Option } = Select;\r\n\r\nconst EditDoc = (props) => {\r\n  const { id } = props.match.params;\r\n  const docContext = useContext(DocContext);\r\n  const {\r\n    curDoc,\r\n    transferDone,\r\n    setTransferDone,\r\n    setAllReady,\r\n    allReady,\r\n  } = docContext;\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [allSet, setAllSet] = useState(false);\r\n  const [pending, setPending] = useState(false);\r\n\r\n  let {\r\n    title,\r\n    type,\r\n    target,\r\n    shortTitle,\r\n    publishDate,\r\n    ver,\r\n    prevVer,\r\n    pagesCount,\r\n    premiereTag,\r\n    archived,\r\n  } = curDoc[0];\r\n\r\n  let convPremiereTag, convArchived;\r\n\r\n  premiereTag\r\n    ? (convPremiereTag = 'premiere')\r\n    : (convPremiereTag = 'notpremiere');\r\n  archived ? (convArchived = 'archived') : (convArchived = 'notarchived');\r\n  // eslint-disable-next-line\r\n  const [body, setBody] = useState({\r\n    title,\r\n    type,\r\n    target,\r\n    shortTitle,\r\n    publishDate,\r\n    ver,\r\n    prevVer,\r\n    pagesCount,\r\n    premiereTag,\r\n    archived,\r\n  });\r\n\r\n  console.log(title);\r\n\r\n  const { getFieldDecorator } = props.form;\r\n\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n  };\r\n  const tailFormItemLayout = {\r\n    wrapperCol: {\r\n      xs: {\r\n        span: 24,\r\n        offset: 0,\r\n      },\r\n      sm: {\r\n        span: 16,\r\n        offset: 8,\r\n      },\r\n    },\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    if (e === 'pdf' || e === 'film') {\r\n      body.type = e;\r\n    } else if (e === 'ben' || e === 'oper') {\r\n      body.target = e;\r\n    } else if (e === 'premiere') {\r\n      body.premiereTag = true;\r\n    } else if (e === 'notpremiere') {\r\n      body.premiereTag = false;\r\n    } else if (e === 'archived') {\r\n      body.archived = true;\r\n    } else if (e === 'notarchived') {\r\n      body.archived = false;\r\n    } else {\r\n      body[e.target.id.split('register_')[1]] = e.target.value;\r\n    }\r\n\r\n    body.pdfFileName = `${\r\n      '[' + body.ver + ']' + '_' + body.shortTitle + '_' + body.target\r\n    }.pdf`;\r\n\r\n    if (\r\n      body.title !== '' &&\r\n      body.title.length > 2 &&\r\n      body.title.length < 101 &&\r\n      body.target !== '' &&\r\n      body.type !== '' &&\r\n      body.shortTitle !== '' &&\r\n      body.shortTitle.length > 2 &&\r\n      body.publishDate !== '' &&\r\n      body.publishDate.length > 5 &&\r\n      body.publishDate.length < 10 &&\r\n      body.ver !== '' &&\r\n      body.prevVer !== '' &&\r\n      body.pagesCount !== '' &&\r\n      body.premiereTag !== '' &&\r\n      body.archived !== ''\r\n    ) {\r\n      setAllReady(true);\r\n    } else {\r\n      setAllReady(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setPending(true);\r\n      const config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      };\r\n      await axios.put(`/api/docs/${id}`, body, config).then((res) => {\r\n        if (res.data.result === 'success') {\r\n          setTimeout(() => {\r\n            enqueueSnackbar(`${res.data.msg}`, {\r\n              variant: `${res.data.result}`,\r\n            });\r\n            props.history.push('/alldocs');\r\n          }, 4000);\r\n        } else {\r\n          enqueueSnackbar(`${res.data.msg}`, {\r\n            variant: `${res.data.result}`,\r\n          });\r\n        }\r\n        setTimeout(() => {\r\n          setPending(false);\r\n        }, 4000);\r\n      });\r\n    } catch (error) {\r\n      enqueueSnackbar(`${error.message}`, {\r\n        variant: `error`,\r\n      });\r\n      console.log(error.message);\r\n    }\r\n    setIsSubmitting(true);\r\n    setAllReady(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <TopHeader title='Edycja dokumentu' icon='fas fa-file-signature'/>\r\n\r\n      <div style={style}>\r\n        <Form\r\n          {...formItemLayout}\r\n          onSubmit={handleSubmit}\r\n          style={{ width: 1100, marginTop: 50 }}\r\n        >\r\n          <Form.Item label='Tytuł' onChange={handleChange} hasFeedback>\r\n            {getFieldDecorator(\r\n              'title',\r\n              { initialValue: title },\r\n              {\r\n                rules: [\r\n                  {\r\n                    min: 3,\r\n                    message: 'Tytuł musi składać się z co najmniej 3 znaków',\r\n                  },\r\n                  {\r\n                    max: 100,\r\n                    message: 'Tytuł może składać się z co najwyżej 100 znaków',\r\n                  },\r\n                  {\r\n                    required: true,\r\n                    message: 'Musisz podać tytuł',\r\n                  },\r\n                ],\r\n              }\r\n            )(<Input />)}\r\n          </Form.Item>\r\n\r\n          <Form.Item label='Typ instrukcji' hasFeedback>\r\n            {getFieldDecorator(\r\n              'type',\r\n              { initialValue: type },\r\n              {\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: 'Musisz wybrać wartosć',\r\n                  },\r\n                ],\r\n              }\r\n            )(\r\n              <Select onChange={handleChange} style={{ width: 175 }}>\r\n                <Option value='pdf'>PDF</Option>\r\n                <Option value='film'>Film</Option>\r\n              </Select>\r\n            )}\r\n          </Form.Item>\r\n\r\n          <Form.Item label='Dla kogo' hasFeedback>\r\n            {getFieldDecorator(\r\n              'target',\r\n              { initialValue: target },\r\n              {\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: 'Musisz wybrać wartosć',\r\n                  },\r\n                ],\r\n              }\r\n            )(\r\n              <Select onChange={handleChange} style={{ width: 175 }}>\r\n                <Option value='ben'>Beneficjent</Option>\r\n                <Option value='oper'>Operator</Option>\r\n              </Select>\r\n            )}\r\n          </Form.Item>\r\n\r\n          <Form.Item label='Krótki tytuł' onChange={handleChange} hasFeedback>\r\n            {getFieldDecorator(\r\n              'shortTitle',\r\n              { initialValue: shortTitle },\r\n              {\r\n                rules: [\r\n                  {\r\n                    min: 3,\r\n                    message:\r\n                      'Krótki tytuł musi składać się z co najmniej 3 znaków',\r\n                  },\r\n                  {\r\n                    required: true,\r\n                    message: 'Musisz podać krótki tytuł',\r\n                  },\r\n                ],\r\n              }\r\n            )(<Input />)}\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            onChange={handleChange}\r\n            hasFeedback\r\n            label={\r\n              <span>\r\n                Data publikacji&nbsp;\r\n                <Tooltip title='Data publikacji powinna mieć format: IV.2000'>\r\n                  <Icon type='question-circle-o' />\r\n                </Tooltip>\r\n              </span>\r\n            }\r\n          >\r\n            {getFieldDecorator(\r\n              'publishDate',\r\n              { initialValue: publishDate },\r\n              {\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: 'Podaj datę publikacji',\r\n                    whitespace: true,\r\n                  },\r\n                  {\r\n                    min: 6,\r\n                    message:\r\n                      'Data publikacji powinna składać się z co najmniiej 6 znaków (np.\"I.2020\")',\r\n                  },\r\n                  {\r\n                    max: 9,\r\n                    message:\r\n                      'Data publikacji powinna składać się najwyżej z 8 znaków (np.\"XII.2020\")',\r\n                  },\r\n                ],\r\n              }\r\n            )(<Input />)}\r\n          </Form.Item>\r\n\r\n          <Form.Item label='Wersja' onChange={handleChange} hasFeedback>\r\n            {getFieldDecorator(\r\n              'ver',\r\n              { initialValue: ver },\r\n              {\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: 'Podaj numer wersji',\r\n                    whitespace: true,\r\n                  },\r\n                ],\r\n              }\r\n            )(<Input />)}\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            onChange={handleChange}\r\n            label='Poprzednia wersja'\r\n            hasFeedback\r\n          >\r\n            {getFieldDecorator(\r\n              'prevVer',\r\n              { initialValue: prevVer },\r\n              {\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: 'Podaj numer wersji',\r\n                    whitespace: true,\r\n                  },\r\n                ],\r\n              }\r\n            )(<Input />)}\r\n          </Form.Item>\r\n\r\n          <Form.Item onChange={handleChange} label='Liczba stron' hasFeedback>\r\n            {getFieldDecorator(\r\n              'pagesCount',\r\n              { initialValue: pagesCount },\r\n              {\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: 'Podaj liczbę stron',\r\n                    whitespace: true,\r\n                  },\r\n                ],\r\n              }\r\n            )(<Input type='number' />)}\r\n          </Form.Item>\r\n\r\n          <Form.Item label='Oznacz jako premierowe' hasFeedback>\r\n            {getFieldDecorator(\r\n              'premiereTag',\r\n              { initialValue: convPremiereTag },\r\n              {\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: 'Wybierz wartość',\r\n                  },\r\n                ],\r\n              }\r\n            )(\r\n              <Select onChange={handleChange} style={{ width: 175 }}>\r\n                <Option value='notpremiere'>Nie</Option>\r\n                <Option value='premiere'>Tak</Option>\r\n              </Select>\r\n            )}\r\n          </Form.Item>\r\n\r\n          <Form.Item label='Oznacz jako archiwalne' hasFeedback>\r\n            {getFieldDecorator(\r\n              'archived',\r\n              { initialValue: convArchived },\r\n              {\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: 'Wybierz wartość',\r\n                  },\r\n                ],\r\n              }\r\n            )(\r\n              <Select onChange={handleChange} style={{ width: 175 }}>\r\n                <Option value='notarchived'>Nie</Option>\r\n                <Option value='archived'>Tak</Option>\r\n              </Select>\r\n            )}\r\n          </Form.Item>\r\n\r\n          <Form.Item onChange={handleChange} label='Dodaj plik' hasFeedback>\r\n            {getFieldDecorator('file', {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: 'Dodaj plik',\r\n                },\r\n              ],\r\n            })(\r\n              <FileUpload\r\n                isSubmitting={isSubmitting}\r\n                setIsSubmitting={setIsSubmitting}\r\n                pdfFileName={body.pdfFileName}\r\n              />\r\n            )}\r\n          </Form.Item>\r\n\r\n          <Form.Item {...tailFormItemLayout}>\r\n            <Button loading={pending} type='primary' htmlType='submit'>\r\n              Aktualizuj\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst style = {\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  height: '100%',\r\n  width: '100%',\r\n};\r\n\r\nconst WrappedEditDocForm = Form.create({ name: 'edit' })(EditDoc);\r\nexport default WrappedEditDocForm;\r\n","import React, { useContext } from 'react';\r\nimport { Card, Icon, Badge } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport DocContext from '../../context/doc/docContext';\r\n\r\nconst { Meta } = Card;\r\n\r\nconst CardAnt = ({\r\n  doc,\r\n  handleOnClickDelete,\r\n  handleOnClickChangeSort,\r\n  loading,\r\n}) => {\r\n  const docContext = useContext(DocContext);\r\n\r\n  const { setCurDoc } = docContext;\r\n\r\n  let displayBadge = 'none';\r\n  if (!doc.premiereTag) {\r\n    displayBadge = 'none';\r\n  } else {\r\n    displayBadge = 'block';\r\n  }\r\n  let iconType = 'none';\r\n  if (doc.type === 'pdf') {\r\n    iconType = 'far fa-file-pdf';\r\n  } else {\r\n    iconType = 'far fa-file-video';\r\n  }\r\n\r\n  return (\r\n    <div style={{zIndex:-2}}>\r\n      <div>\r\n        <i\r\n          className={iconType}\r\n          style={{\r\n            transform: 'translate(235px,235px) scale(1.1)',\r\n            zIndex: 10,\r\n            maxWidth:\"50px\",\r\n            display: 'block',\r\n            color: 'rgba(0,0,0,0.4)',\r\n            fontSize: '1.8em',\r\n            zIndex: 1,\r\n          }}\r\n        ></i>\r\n      </div>\r\n      <Badge\r\n        count='NOWOŚĆ'\r\n        style={{\r\n          backgroundColor: '#db4d4d',\r\n          transform: 'translate(100px,40px) scale(1.1)',\r\n          zIndex: 10,\r\n          display: `${displayBadge}`,\r\n        }}\r\n      >\r\n        <a href='#' className='head-example' />\r\n      </Badge>\r\n      <Card\r\n        style={style.main}\r\n        cover={\r\n          <img\r\n            style={style.img}\r\n            alt='example'\r\n            // src='./spinner.gif'\r\n            // src={`1\r\n            //   loading\r\n            //     ? spinner\r\n            //     : 'http://bestcodes.pl/lsi/app_files/img/rwd.jpg'\r\n            // }\r\n            src='http://bestcodes.pl/lsi/app_files/img/rwd.jpg'\r\n            // src='https://gw.alipayobjects.com/zos/rmsportal/JiqGstEfoWAOHiTxclqi.png'\r\n          />\r\n        }\r\n        actions={[\r\n          // <Icon type='download' key='download' />,\r\n          <Icon\r\n            type='arrow-up'\r\n            key='arrow-up'\r\n            onClick={() => handleOnClickChangeSort(doc._id, 'substract')}\r\n          />,\r\n          <Icon\r\n            type='arrow-down'\r\n            key='arrow-down'\r\n            onClick={() => handleOnClickChangeSort(doc._id, 'add')}\r\n          />,\r\n          <Link to={`/editdoc/${doc._id}`} onClick={() => setCurDoc(doc._id)}>\r\n            <Icon type='edit' key='edit' />\r\n          </Link>,\r\n\r\n          <Icon\r\n            type='delete'\r\n            key='delete'\r\n            onClick={() => handleOnClickDelete(doc._id)}\r\n          />,\r\n        ]}\r\n      >\r\n        <Meta\r\n          // avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\r\n          title={doc.shortTitle.toUpperCase()}\r\n          description={\r\n            <p>\r\n              Typ: {doc.type}, Dla: {doc.target}, Stron: {doc.pagesCount}\r\n            </p>\r\n          }\r\n        />\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst style = {\r\n  main: {\r\n    margin: '15px',\r\n    maxWidth: 250,\r\n    height: 312,\r\n    overflow: 'hidden',\r\n    boxShadow: '1px 1px 10px -4px rgba(0,0,0,0.75)',\r\n    zIndex: -1,\r\n  },\r\n  img: {\r\n    width: '100%',\r\n\r\n    borderBottom: '2px solid rgba(192, 192, 192,.3)',\r\n  },\r\n};\r\n\r\nexport default CardAnt;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst FloatingButton = (props) => {\r\n  const { scale, text, linkTo, position, p_marginTop } = props;\r\n\r\n  let icon, color, bootstrapClass;\r\n\r\n  if (text === \"Zarządzaj\") {\r\n    icon = \"fa fa-cog\";\r\n    color = \"#5cb85c\";\r\n    bootstrapClass = \"success\";\r\n  } else if (text === \"Dodaj\") {\r\n    icon = \"fa fa-plus\";\r\n    color = \"#0275d8\";\r\n    bootstrapClass = \"primary\";\r\n  }\r\n\r\n  return (\r\n    <Link to={`/${linkTo}`}>\r\n      <div\r\n        style={{\r\n          position: `${position}`,\r\n          bottom: \"3vh\",\r\n          right: \"3vw\",\r\n          textAlign: \"center \",\r\n          marginLeft: \"50px\",\r\n        }}\r\n      >\r\n        <button\r\n          style={{\r\n            borderRadius: \"50%\",\r\n            transform: `scale(${scale * 1.7})`,\r\n            textAlign: \"center \",\r\n          }}\r\n          type=\"button\"\r\n          class={`btn btn-${bootstrapClass}`}\r\n        >\r\n          <i class={icon}></i>\r\n        </button>\r\n        <p\r\n          style={{\r\n            marginTop: `${p_marginTop}`,\r\n            transform: `scale(${scale})`,\r\n            fontWeight: \"bold\",\r\n            color: `${color}`,\r\n            textAlign: \"center \",\r\n          }}\r\n        >\r\n          {text}\r\n        </p>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nFloatingButton.propTypes = {\r\n  scale: PropTypes.number.isRequired,\r\n  text: PropTypes.string.isRequired,\r\n  color: PropTypes.string.isRequired,\r\n  icon: PropTypes.string.isRequired,\r\n  position: PropTypes.string.isRequired,\r\n};\r\nFloatingButton.defaultProps = {\r\n  scale: 1,\r\n  text: \"Tekst\",\r\n  color: \"#0275d8\",\r\n  icon: \"fa-list\",\r\n  position: \"fixed\",\r\n  p_marginTop: \"10px\",\r\n};\r\n\r\nexport default FloatingButton;\r\n","import React, { useEffect, useContext, useState } from 'react';\r\nimport CardAnt from './CardAnt';\r\nimport axios from 'axios';\r\nimport DocContext from '../../context/doc/docContext';\r\nimport TopHeader from '../layout/partials/TopHeader';\r\nimport { useSnackbar } from 'notistack';\r\nimport FloatingButton from '../layout/partials/FloatingButton';\r\n\r\nconst AllCards = (props) => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const docContext = useContext(DocContext);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    getDocs();\r\n    setLoading(false);\r\n    //eslint-disable-next-line\r\n  }, [loading]);\r\n\r\n  const { docs, getDocs } = docContext;\r\n\r\n  const handleOnClickDelete = async (id) => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      await axios.delete(`/api/docs/${id}`).then((res) => {\r\n        enqueueSnackbar(`${res.data.msg}`, {\r\n          variant: `${res.data.result}`,\r\n        });\r\n      });\r\n      setLoading(false);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  const handleOnClickChangeSort = async (id, direction) => {\r\n    setLoading(true);\r\n    console.log(loading);\r\n\r\n    try {\r\n      await axios.put(`/api/docs/${direction}/${id}`).then((res) => {\r\n        if (res.data.msg === undefined) {\r\n          enqueueSnackbar(`Dokonano zmian`, {\r\n            variant: `info`,\r\n          });\r\n        } else {\r\n          enqueueSnackbar(`${res.data.msg}`, {\r\n            variant: `${res.data.result}`,\r\n          });\r\n        }\r\n      });\r\n      setTimeout(setLoading(false), 1000);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <TopHeader title='Zarządzaj instrukcjami' icon='fas fa-folder-open' />\r\n      <h3 style={style.h3}>INSTRUKCJE DLA OPERATORA</h3>\r\n      <div className='animated fadeIn' style={style}>\r\n        {docs !== null\r\n          ? docs\r\n              .filter((item) => item.target === 'oper' && !item.archived)\r\n              .map((doc) => (\r\n                <CardAnt\r\n                  handleOnClickDelete={handleOnClickDelete}\r\n                  handleOnClickChangeSort={handleOnClickChangeSort}\r\n                  loading={loading}\r\n                  key={doc._id}\r\n                  doc={doc}\r\n                />\r\n              ))\r\n          : null}\r\n      </div>\r\n      <div\r\n        style={{\r\n          height: '1px',\r\n          borderTop: '3px solid #474b52',\r\n          margin: '35px',\r\n          borderRadius: '1px',\r\n        }}\r\n      ></div>\r\n      <h3 style={style.h3}>INSTRUKCJE DLA BENEFICJENTA</h3>\r\n      <div className='animated fadeIn' style={style}>\r\n        {docs !== null\r\n          ? docs\r\n              .filter((item) => item.target === 'ben' && !item.archived)\r\n              .map((doc) => (\r\n                <CardAnt\r\n                  handleOnClickDelete={handleOnClickDelete}\r\n                  handleOnClickChangeSort={handleOnClickChangeSort}\r\n                  loading={loading}\r\n                  key={doc._id}\r\n                  doc={doc}\r\n                />\r\n              ))\r\n          : null}\r\n      </div>\r\n      <FloatingButton\r\n        scale={1}\r\n        text='Dodaj'\r\n        linkTo='newdoc'\r\n        position='fixed'\r\n        p_marginTop='10px'\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst style = {\r\n  display: 'flex',\r\n  flexWrap: 'wrap',\r\n  justifyContent: 'flex-start',\r\n  h3: {\r\n    margin: '30px 0px -30px 30px',\r\n  },\r\n};\r\n\r\nexport default AllCards;\r\n","import React from \"react\";\r\nimport FloatingButton from \"../layout/partials/FloatingButton\";\r\nimport TopHeader from '../layout/partials/TopHeader'\r\n\r\nconst Home = () => {\r\n  return (\r\n    <>\r\n    <TopHeader title='Strona startowa' icon='fas fa-home'/>\r\n    <div style={style.main}>\r\n      <div style={style.item}>\r\n        <FloatingButton\r\n          scale={2}\r\n          text=\"Zarządzaj\"\r\n          linkTo=\"alldocs\"\r\n          position=\"relative\"\r\n          p_marginTop='60px'\r\n        />\r\n      </div>\r\n\r\n      <div style={style.item}>\r\n        {\" \"}\r\n        <FloatingButton\r\n          scale={2}\r\n          text=\"Dodaj\"\r\n          linkTo=\"newdoc\"\r\n          position=\"relative\"\r\n          p_marginTop='60px'\r\n        />\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst style = {\r\n  main: {\r\n    position: \"static\",\r\n    width: \"100%\",\r\n    height: \"100vh\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-around\",\r\n    alignItems: \"center\",\r\n    alignContent: \"center\",\r\n    top: \"40%\",\r\n    left: \"45%\",\r\n  },\r\n  item: {\r\n    display: 'flex',\r\n    flexDirectiom: 'column',\r\n\r\n\r\n  },\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport DocState from './context/doc/DocState';\r\nimport WrappedAddNewDocForm from './components/pages/AddDoc';\r\nimport WrappedEditDocForm from './components/pages/EditDoc'\r\nimport AllCards from './components/Cards/AllCards';\r\nimport Home from './components/pages/Home';\r\nimport { SnackbarProvider } from 'notistack';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nrequire('dotenv/config');\r\n\r\nfunction App() {\r\n  return (\r\n    <SnackbarProvider maxSnack={3} autoHideDuration={process.env.ALERT_WAIT_TIME}>\r\n      <div className='App'>\r\n        <DocState>\r\n          <Router>\r\n            <Switch>\r\n              <Route exact path='/' component={Home}></Route>\r\n              <Route\r\n                exact\r\n                path='/newdoc'\r\n                component={WrappedAddNewDocForm}\r\n              ></Route>\r\n              Edit <Route exact path='/alldocs' component={AllCards}></Route>\r\n              <Route\r\n                exact\r\n                path='/editdoc/:id'\r\n                component={WrappedEditDocForm}\r\n              ></Route>\r\n            </Switch>\r\n          </Router>\r\n        </DocState>\r\n      </div>\r\n    </SnackbarProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}